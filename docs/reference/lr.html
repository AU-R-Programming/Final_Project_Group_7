<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Logistic Regression with Bootstrapping and Evaluation Metrics — lr • TrainPredict</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Logistic Regression with Bootstrapping and Evaluation Metrics — lr"><meta property="og:description" content="This function fits a logistic regression model using either a formula and data frame or
user-provided independent and dependent variables (X and y). It also computes bootstrap
confidence intervals, evaluation metrics such as accuracy, sensitivity, specificity, and
diagnostic odds ratio."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TrainPredict</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/Vignette.html">vignette</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AU-R-Programming/Final_Project_Group_7.git" class="external-link">
    <span class="fa fa-github"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Logistic Regression with Bootstrapping and Evaluation Metrics</h1>

    <div class="hidden name"><code>lr.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function fits a logistic regression model using either a formula and data frame or
user-provided independent and dependent variables (X and y). It also computes bootstrap
confidence intervals, evaluation metrics such as accuracy, sensitivity, specificity, and
diagnostic odds ratio.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lr</span><span class="op">(</span>formula <span class="op">=</span> <span class="cn">NULL</span>, data <span class="op">=</span> <span class="cn">NULL</span>, X <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span>, B <span class="op">=</span> <span class="fl">20</span>, alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>Optional. A formula object specifying the response and predictor variables.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Optional. A data frame containing the data referenced in the formula.</p></dd>


<dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Optional. A matrix or data frame of predictor variables.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Optional. A vector of binary response values (0 or 1).</p></dd>


<dt id="arg-b">B<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p>Integer. The number of bootstrap samples to generate. Default is 20.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Numeric. The significance level for confidence interval estimation. Default is 0.05.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing:</p>
<dl><dt>beta_init</dt>
<dd><p>The initial coefficients estimated using the least squares approach.</p></dd>

<dt>beta_optimized</dt>
<dd><p>The optimized coefficients obtained using maximum likelihood estimation.</p></dd>

<dt>CI</dt>
<dd><p>A matrix containing the bootstrap confidence intervals for each coefficient.</p></dd>

<dt>confusion_matrix</dt>
<dd><p>A 2x2 confusion matrix comparing actual vs. predicted values.</p></dd>

<dt>prevalence</dt>
<dd><p>The prevalence (proportion of positive cases) in the response variable.</p></dd>

<dt>accuracy</dt>
<dd><p>The accuracy of the model, defined as the proportion of correct predictions.</p></dd>

<dt>sensitivity</dt>
<dd><p>The sensitivity (true positive rate) of the model.</p></dd>

<dt>specificity</dt>
<dd><p>The specificity (true negative rate) of the model.</p></dd>

<dt>false_discovery_rate</dt>
<dd><p>The false discovery rate of the model.</p></dd>

<dt>diagnostic_odds_ratio</dt>
<dd><p>The diagnostic odds ratio, defined as (TP / FN) / (FP / TN).</p></dd>

<dt>factor_mappings</dt>
<dd><p>A list of data frames mapping factor levels to numeric values for all categorical variables.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>lr</code> function performs logistic regression with an option to input the formula and data directly or
provide independent variables (X) and response variable (y) separately. If categorical variables are present
in the data, they are converted to dummy variables.</p>
<p>The function computes the logistic regression model using maximum likelihood estimation. It also generates
bootstrap samples to estimate confidence intervals for the model coefficients. Performance metrics, including
accuracy, sensitivity, specificity, false discovery rate, and diagnostic odds ratio, are calculated based on
the predictions.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The response variable (<code>y</code>) must have exactly two levels for logistic regression to be applicable.
All categorical variables are internally converted to numeric variables.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="predict_new.html">predict_new</a></code>, <code><a href="predict_test.html">predict_test</a></code>, <code><a href="train_test_sampling.html">train_test_sampling</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: using the mtcars dataset with 'am' as the binomial dependent variable.</span></span></span>
<span class="r-in"><span><span class="co"># Split the data, using 75% of the data for training, and return the train and test data sets.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="train_test_sampling.html">train_test_sampling</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"am"</span>, train_prop<span class="op">=</span><span class="fl">0.75</span>, return_data<span class="op">=</span><span class="cn">TRUE</span>, seed<span class="op">=</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">train</span><span class="op">&lt;-</span><span class="va">data</span><span class="op">$</span><span class="va">train</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">lr</span><span class="op">(</span>formula <span class="op">=</span> <span class="va">am</span> <span class="op">~</span> <span class="va">mpg</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">beta_optimized</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Intercept -32.4885412</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mpg         1.8068521</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hp          0.1103046</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wt         -6.3142139</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">confusion_matrix</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual  TRUE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE    1    13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE     9     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Using data set iris</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create a binary dependent variable that includes only species 'setosa' and 'versicolor'</span></span></span>
<span class="r-in"><span><span class="va">iris_binary</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"setosa"</span>, <span class="st">"versicolor"</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">iris_binary</span><span class="op">$</span><span class="va">Species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">iris_binary</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit the model</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">lr</span><span class="op">(</span><span class="va">Species</span> <span class="op">~</span> <span class="va">Sepal.Length</span> <span class="op">+</span> <span class="va">Sepal.Width</span>, data <span class="op">=</span> <span class="va">iris_binary</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">beta_optimized</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Intercept    -55.59943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Length  21.45591</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Width  -19.12998</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Using X and y directly</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">iris_binary</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Sepal.Width"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">iris_binary</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">lr</span><span class="op">(</span>X <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">y</span>, B <span class="op">=</span> <span class="fl">50</span>, alpha <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">beta_optimized</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Intercept    -55.59943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Length  21.45591</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Width  -19.12998</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Erick Gutierrez, Azaz Zaman, Roberto Molinari, Shakiba Kazemian.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

